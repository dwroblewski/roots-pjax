/**
 * Roots PJAX
 * WordPress meets HTML5 Boilerplate, Bootstrap, and PJAX
 * https://github.com/wayoutmind/roots-pjax
 */

(function(a){a(document).ready(function(){Modernizr.history&&(a("a:not(:has(img))").pjax("#wrap"),a.ajaxPrefilter(function(a,c,b){b.url=c.url}),a(document).bind("pjax:beforeSend",function(f,c){var b=new XMLHttpRequest;b.open("HEAD",c.url,!1);b.setRequestHeader("X-PJAX",!0);b.send();var e=-1!==b.getResponseHeader("Content-Type").indexOf("text/html"),b="false"!==b.getResponseHeader("X-PJAX");if(e&&b)return a(".active").removeClass("current-menu-item current-menu-parent current-menu-ancestor current_page_item current_page_parent current_page_ancestor active"),
a(f.relatedTarget).parent().addClass("active"),!0;c.abort();window.location.href=c.url}),a(document).bind("pjax:start",function(){a(this).ajaxSuccess(function(f,c){var b=c.getResponseHeader("X-WordPress-Body-Class");a(this).attr("class",b);var b=c.getResponseHeader("X-WordPress-Link-Canonical"),e=c.getResponseHeader("X-WordPress-Link-Previous"),d=c.getResponseHeader("X-WordPress-Link-Next"),g=c.getResponseHeader("X-WordPress-Title-Previous"),h=c.getResponseHeader("X-WordPress-Title-Next");a('link[rel="canonical"]').attr("href",
b);a('link[rel="prev"]').attr("href",e);a('link[rel="prev"]').attr("title",g);0===a('link[rel="prev"]').length&&a("head").append('<link rel="previous" title="'+g+'" href="'+e+'" />');a('link[rel="next"]').attr("href",d);a('link[rel="next"]').attr("title",h);0===a('link[rel="next"]').length&&a("head").append('<link rel="previous" title="'+h+'" href="'+d+'" />');e=a.makeArray(a("head").children()).map(function(a){return a.outerHTML.replace(/'/g,'"')});d=c.getResponseHeader("X-WordPress-Head").split("|").map(function(a){return a.replace(/'/g,
'"')}).filter(function(a){return""!==a});for(b=0;b<d.length;b++)-1===e.indexOf(d[b])&&a("head").append(d[b]);e=a.makeArray(a("body").children("link, script")).map(function(a){return a.outerHTML.replace(/'/g,'"')});d=c.getResponseHeader("X-WordPress-Footer").split("|").map(function(a){return a.replace(/'/g,'"')}).filter(function(a){return""!==a});for(b=0;b<d.length;b++)-1===e.indexOf(d[b])&&a("body").append(d[b])})}))})})(jQuery);
